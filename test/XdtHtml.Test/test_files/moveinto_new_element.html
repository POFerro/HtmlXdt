<form xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">

  <page-header-actions xdt:Locator="XPath(//page-header-actions)">
    
    <ng-container xdt:Transform="RemoveAttributes"></ng-container>

  </page-header-actions>

  <card-header-actions xdt:Locator="XPath(//card-header-actions)" xdt:Transform="Remove"></card-header-actions>

  <data-group xdt:Locator="XPath(//data-group)">

    <data-field xdt:Locator="Condition(contains(., 'details.userName'))" xdt:Transform="Replace" fxFlex="100%" [dataFieldLabel]="'Configurations._Tables.Users._Fields.UserName' | translate">{{ details.userDetails.userName }}</data-field>

    <mat-form-field xdt:Locator="Condition(input/@name = 'displayName')">

      <input xdt:Transform="SetAttributes" [(ngModel)]="details.userDetails.displayName" />

      <span xdt:Locator="Condition(@readOnlyValue)" xdt:Transform="Replace" readOnlyValue>{{ details.userDetails.displayName }}</span>

    </mat-form-field>

    <mat-form-field xdt:Locator="Condition(input/@name = 'email')">

      <input xdt:Transform="SetAttributes" [(ngModel)]="details.userDetails.email" />

      <span xdt:Locator="Condition(@readOnlyValue)" xdt:Transform="Replace" readOnlyValue>{{ details.userDetails.email }}</span>

    </mat-form-field>

    <ng-container *hasEveryPermission="PermissionConstants.Configurations.AccessControl.UserProfile.profileRolesEdit; else readOnlyRoles"
                  xdt:Transform="Insert">

    </ng-container>

    <ng-template #readOnlyRoles
                 xdt:Transform="Insert">

      <data-field fxFlex="100%" [dataFieldLabel]="'Configurations.AccessControl.UserProfile.UserProfileDetailsCard.UserProfileRolesList._Description' |translate">
        <mat-chip-set>
          <mat-chip *ngFor="let role of details.userProfileRolesList">
            <span>{{role.userRolesRoleName}}</span>
          </mat-chip>
        </mat-chip-set>
      </data-field>

    </ng-template>

    <mat-form-field>
      <mat-autocomplete>
        <mat-option>
          <option-content xdt:Transform="SetAttributes" [secondaryText]="option.roleCode"></option-content>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <mat-form-field xdt:Locator="Condition(mat-chip-grid)" xdt:Transform="MoveIntoBegining(ng-container)"></mat-form-field>

  </data-group>

</form>
